{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["initialGrid","deletedRowsCount","i","push","drawInitialGrid","gameStageCopy","gridCopy","activeTimeOut","nonMovingCells","NON_MOVING_CELLS_DEFAULT","pos","fill","updateGrid","cellsToChange","updatedGrid","slice","forEach","cell","ALL_FIGURES","rotated","name","activeFigure","keyNow","helper1","delay","App","useState","grid","setGrid","gameStage","setGameStage","helper2","setHelper2","useEffect","document","body","addEventListener","event","key","moveLeft","moveDown","rotate","moveRight","removeEventListener","setTimeout","newFigure","_","random","figure","figureMustStop","splice","deleteFullrows","figure1","answer","isGameOver","clearTimeout","some","isLeftSideFree","isRightSideFree","staticCell","checkIfRotationPossible","a","b","c","d","length","sort","prev","next","rowsToDelete","index","helper","copyOfNonMovingCells","row","Math","floor","indexOf","className","toFixed","type","onClick","map","style","backgroundColor","uuid","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fd0e9868.chunk.js","sourcesContent":["/* eslint-disable no-param-reassign */\nimport React, {useEffect, useState} from 'react';\nimport './App.css';\nimport {v4 as uuid} from 'uuid';\nimport _ from 'lodash';\n\ntype CellFill = 'red' | 'white' | 'blue';\n\ntype Cell = {\n  pos: number;\n  fill: CellFill;\n};\n\ntype FigureInfo = {\n  rotated: '0' | '90' | '180' | '270';\n  name: 'O' | 'J' | 'L' | 'T' | 'I' | 'S' | 'Z';\n  pos: number;\n  fill: CellFill;\n};\n\nconst ROW = 10;\n\nconst initialGrid: string[] = [];\n\nconst drawInitialGrid = () => {\n  for (let i = 0; i < 240; i++) {\n    initialGrid.push('white');\n  }\n};\n\nlet deletedRowsCount = 0;\n\ndrawInitialGrid();\n\nconst nonMovingCells: Cell[] = [];\n\nconst NON_MOVING_CELLS_DEFAULT: Cell[] = [\n  {pos: 240, fill: 'blue'},\n  {pos: 241, fill: 'blue'},\n  {pos: 242, fill: 'blue'},\n  {pos: 243, fill: 'blue'},\n  {pos: 244, fill: 'blue'},\n  {pos: 245, fill: 'blue'},\n  {pos: 246, fill: 'blue'},\n  {pos: 247, fill: 'blue'},\n  {pos: 248, fill: 'blue'},\n  {pos: 249, fill: 'blue'},\n];\n\nconst updateGrid = (cellsToChange: (Cell | FigureInfo)[]): string[] => {\n  const updatedGrid = [...initialGrid];\n  const filledGrid = [...nonMovingCells, ...cellsToChange.slice(0, 4)];\n  filledGrid.forEach((cell) => {\n    updatedGrid[cell.pos] = cell.fill;\n  });\n  return updatedGrid;\n};\n\nconst O_FIGURE: (Cell | FigureInfo)[] = [\n  {pos: 4, fill: 'red'},\n  {pos: 5, fill: 'red'},\n  {pos: 14, fill: 'red'},\n  {pos: 15, fill: 'red'},\n  {rotated: '0', name: 'O', pos: 500, fill: 'white'},\n];\n\nconst I_FIGURE: (Cell | FigureInfo)[] = [\n  {pos: 4, fill: 'red'},\n  {pos: 14, fill: 'red'},\n  {pos: 24, fill: 'red'},\n  {pos: 34, fill: 'red'},\n  {rotated: '0', name: 'I', pos: 500, fill: 'white'},\n];\n\nconst J_FIGURE: (Cell | FigureInfo)[] = [\n  {pos: 4, fill: 'red'},\n  {pos: 14, fill: 'red'},\n  {pos: 23, fill: 'red'},\n  {pos: 24, fill: 'red'},\n  {rotated: '0', name: 'J', pos: 500, fill: 'white'},\n];\n\nconst L_FIGURE: (Cell | FigureInfo)[] = [\n  {pos: 4, fill: 'red'},\n  {pos: 14, fill: 'red'},\n  {pos: 24, fill: 'red'},\n  {pos: 25, fill: 'red'},\n  {rotated: '0', name: 'L', pos: 500, fill: 'white'},\n];\n\nconst Z_FIGURE: (Cell | FigureInfo)[] = [\n  {pos: 4, fill: 'red'},\n  {pos: 14, fill: 'red'},\n  {pos: 15, fill: 'red'},\n  {pos: 25, fill: 'red'},\n  {rotated: '0', name: 'Z', pos: 500, fill: 'white'},\n];\n\nconst S_FIGURE: (Cell | FigureInfo)[] = [\n  {pos: 5, fill: 'red'},\n  {pos: 14, fill: 'red'},\n  {pos: 15, fill: 'red'},\n  {pos: 24, fill: 'red'},\n  {rotated: '0', name: 'S', pos: 500, fill: 'white'},\n];\n\nconst T_FIGURE: (Cell | FigureInfo)[] = [\n  {pos: 4, fill: 'red'},\n  {pos: 14, fill: 'red'},\n  {pos: 15, fill: 'red'},\n  {pos: 24, fill: 'red'},\n  {rotated: '0', name: 'T', pos: 500, fill: 'white'},\n];\n\nconst ALL_FIGURES = [O_FIGURE, I_FIGURE, J_FIGURE, S_FIGURE, Z_FIGURE, T_FIGURE, L_FIGURE];\n\nlet activeFigure: (Cell | FigureInfo)[] = [];\n\ntype Stage = 'before' | 'game' | 'end';\n\nlet keyNow = '';\nlet gameStageCopy: Stage;\nlet gridCopy: string[];\n\nlet activeTimeOut: NodeJS.Timeout;\n\nlet helper1 = 0;\n\nlet delay = 1000;\n\nconst App = () => {\n  const [grid, setGrid] = useState(initialGrid);\n  const [gameStage, setGameStage] = useState<Stage>('before');\n  const [helper2, setHelper2] = useState(false);\n\n  gameStageCopy = gameStage;\n  gridCopy = grid;\n\n  useEffect(() => {\n    document.body.addEventListener('keydown', (event) => {\n      keyNow = event.key;\n      if (gameStageCopy === 'game') {\n        if (keyNow === 'ArrowLeft') moveLeft(activeFigure);\n        if (keyNow === 'ArrowDown') moveDown(activeFigure);\n        if (keyNow === 'ArrowUp') rotate(activeFigure);\n        if (keyNow === 'ArrowRight') moveRight(activeFigure);\n      }\n    });\n    return () => {\n      document.body.removeEventListener('keydown', (event) => {\n        keyNow = event.key;\n      });\n    };\n  }, []);\n\n  useEffect(() => {\n    // Nodro코ina, ka 코is useEffect NEnostr캐d캐s uz MOUNT\n    if (helper1 < 1) {\n      helper1 = 1;\n      return;\n    }\n    activeTimeOut = setTimeout(() => {\n      moveDown(activeFigure);\n      setHelper2(!helper2);\n    }, delay);\n  }, [helper2]);\n\n  const newFigure = () => {\n    activeFigure = [];\n    const newActiveFigureCells = [...ALL_FIGURES[_.random(6)]];\n    newActiveFigureCells.forEach((cell) => {\n      activeFigure.push({...cell});\n    });\n    setGrid(updateGrid(activeFigure));\n  };\n\n  const isGameOver = (figure1: Cell[]) => {\n    let answer = false;\n    nonMovingCells.forEach((cell) => {\n      if (cell.pos < 40) answer = true;\n    });\n    return answer;\n    // figure1.forEach(cell => {\n    //   nonMovingCells.forEach(cell1 => {\n    //     if (cell1.pos === cell.pos) answer = true;\n    //   });\n    // });\n    // return answer;\n  };\n\n  const moveDown = (figure: Cell[]) => {\n    if (figureMustStop(figure)) {\n      const additionalNonMovingCells = [...figure.slice(0, 4)];\n      additionalNonMovingCells.forEach((cell) => {\n        cell.fill = 'blue';\n        nonMovingCells.push({...cell});\n      });\n      figure.splice(0, 6);\n      deleteFullrows();\n      newFigure();\n      if (isGameOver(activeFigure)) {\n        clearTimeout(activeTimeOut);\n        setGameStage('end');\n      }\n    } else {\n      figure.forEach((cell) => {\n        // eslint-disable-next-line no-param-reassign\n        cell.pos += ROW;\n      });\n    }\n    setGrid(updateGrid(figure));\n  };\n\n  const moveLeft = (figure: Cell[]) => {\n    if (\n      !figure.some((cell) => {\n        if (cell.pos < 240) {\n          return cell.pos % 10 === 0;\n        }\n        return false;\n      }) &&\n      isLeftSideFree(figure)\n    ) {\n      figure.forEach((cell) => {\n        // eslint-disable-next-line no-param-reassign\n        cell.pos -= 1;\n      });\n      setGrid(updateGrid(figure));\n    }\n  };\n\n  const isLeftSideFree = (figure1: Cell[]) => {\n    let answer = true;\n    figure1.forEach((cell) => {\n      if (gridCopy[cell.pos - 1] === 'blue') answer = false;\n    });\n    return answer;\n  };\n\n  const isRightSideFree = (figure1: Cell[]) => {\n    let answer = true;\n    figure1.forEach((cell) => {\n      if (gridCopy[cell.pos + 1] === 'blue') answer = false;\n    });\n    return answer;\n  };\n\n  const moveRight = (figure: Cell[]) => {\n    if (\n      !figure.some((cell) => {\n        if (cell.pos < 240) {\n          return cell.pos % 10 === 9;\n        }\n        return false;\n      }) &&\n      isRightSideFree(figure)\n    ) {\n      figure.forEach((cell) => {\n        // eslint-disable-next-line no-param-reassign\n        cell.pos += 1;\n      });\n      setGrid(updateGrid(figure));\n    }\n  };\n\n  const figureMustStop = (figure: Cell[]) => {\n    let answer = false;\n    figure.forEach((cell) => {\n      if (!answer) {\n        answer = nonMovingCells.some((staticCell) => {\n          return staticCell.pos === cell.pos + ROW;\n        });\n      }\n    });\n    return answer;\n  };\n\n  const checkIfRotationPossible = (a: number, b: number, c: number, d: number) => {\n    let answer = true;\n    nonMovingCells.some((cell) => {\n      if (cell.pos === a || cell.pos === b || cell.pos === c || cell.pos === d) {\n        answer = false;\n        return true;\n      }\n      return false;\n    });\n    return answer;\n  };\n\n  const rotate = (figure: (Cell | FigureInfo)[]) => {\n    if (figure.length === 0) return;\n    // @ts-ignore\n    const {name} = figure[4];\n    // @ts-ignore\n    const {rotated} = figure[4];\n    switch (name) {\n      case 'I':\n        if (rotated === '0') {\n          let a = 0;\n          if (figure[0].pos % 10 === 9) a = -2;\n          if (figure[0].pos % 10 === 8) a = -1;\n          if (figure[0].pos % 10 === 0) a = 1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + 19 + a,\n              figure[1].pos + 10 + a,\n              figure[2].pos + 1 + a,\n              figure[3].pos - 8 + a\n            )\n          )\n            return;\n          figure[0].pos += 19 + a;\n          figure[1].pos += 10 + a;\n          figure[2].pos += 1 + a;\n          figure[3].pos += -8 + a;\n          // @ts-ignore\n          figure[4].rotated = '90';\n        } else if (rotated === '90') {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos - 19,\n              figure[1].pos - 10,\n              figure[2].pos - 1,\n              figure[3].pos + 8\n            )\n          )\n            return;\n          figure[0].pos -= 19;\n          figure[1].pos -= 10;\n          figure[2].pos -= 1;\n          figure[3].pos += 8;\n          // @ts-ignore\n          figure[4].rotated = '180';\n        } else if (rotated === '180') {\n          let a = 0;\n          if (figure[0].pos % 10 === 9) a = -2;\n          if (figure[0].pos % 10 === 8) a = -1;\n          if (figure[0].pos % 10 === 0) a = 1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + 19 + a,\n              figure[1].pos + 10 + a,\n              figure[2].pos + 1 + a,\n              figure[3].pos - 8 + a\n            )\n          )\n            return;\n          figure[0].pos += 19 + a;\n          figure[1].pos += 10 + a;\n          figure[2].pos += 1 + a;\n          figure[3].pos += -8 + a;\n          // @ts-ignore\n          figure[4].rotated = '270';\n        } else {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos - 19,\n              figure[1].pos - 10,\n              figure[2].pos - 1,\n              figure[3].pos + 8\n            )\n          )\n            return;\n          figure[0].pos -= 19;\n          figure[1].pos -= 10;\n          figure[2].pos -= 1;\n          figure[3].pos += 8;\n          // @ts-ignore\n          figure[4].rotated = '0';\n        }\n        break;\n      case 'J':\n        if (rotated === '0') {\n          let a = 0;\n          if (figure[0].pos % 10 === 1) a = 1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos - 2 + a,\n              figure[1].pos - 2 + a,\n              figure[2].pos - 10 + a,\n              figure[3].pos - 10 + a\n            )\n          )\n            return;\n          figure[0].pos += -2 + a;\n          figure[1].pos += -2 + a;\n          figure[2].pos += -10 + a;\n          figure[3].pos += -10 + a;\n          // @ts-ignore\n          figure[4].rotated = '90';\n        } else if (rotated === '90') {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + 1,\n              figure[1].pos - 8,\n              figure[2].pos,\n              figure[3].pos + 9\n            )\n          )\n            return;\n          figure[0].pos += 1;\n          figure[1].pos += -8;\n          figure[2].pos += 0;\n          figure[3].pos += 9;\n          // @ts-ignore\n          figure[4].rotated = '180';\n        } else if (rotated === '180') {\n          let a = 0;\n          if (figure[0].pos % 10 === 0) a = 1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos - 1 + a,\n              figure[1].pos - 1 + a,\n              figure[2].pos - 9 + a,\n              figure[3].pos - 9 + a\n            )\n          )\n            return;\n          figure[0].pos += -1 + a;\n          figure[1].pos += -1 + a;\n          figure[2].pos += -9 + a;\n          figure[3].pos += -9 + a;\n          // @ts-ignore\n          figure[4].rotated = '270';\n        } else {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + 2,\n              figure[1].pos + 11,\n              figure[2].pos + 19,\n              figure[3].pos + 10\n            )\n          )\n            return;\n          figure[0].pos += 2;\n          figure[1].pos += 11;\n          figure[2].pos += 19;\n          figure[3].pos += 10;\n          // @ts-ignore\n          figure[4].rotated = '0';\n        }\n        break;\n      case 'L':\n        if (rotated === '0') {\n          let a = 0;\n          if (figure[0].pos % 10 === 0) a = 1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos - 1 + a,\n              figure[1].pos - 10 + a,\n              figure[2].pos - 19 + a,\n              figure[3].pos - 12 + a\n            )\n          )\n            return;\n          figure[0].pos += -1 + a;\n          figure[1].pos += -10 + a;\n          figure[2].pos += -19 + a;\n          figure[3].pos += -12 + a;\n          // @ts-ignore\n          figure[4].rotated = '90';\n        } else if (rotated === '90') {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + 1,\n              figure[1].pos + 1,\n              figure[2].pos + 10,\n              figure[3].pos + 12\n            )\n          )\n            return;\n          figure[0].pos += 1;\n          figure[1].pos += 1;\n          figure[2].pos += 10;\n          figure[3].pos += 12;\n          // @ts-ignore\n          figure[4].rotated = '180';\n        } else if (rotated === '180') {\n          let a = 0;\n          if (figure[0].pos % 10 === 0) a = 1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + 1 + a,\n              figure[1].pos + 8 + a,\n              figure[2].pos - 1 + a,\n              figure[3].pos - 10 + a\n            )\n          )\n            return;\n          figure[0].pos += 1 + a;\n          figure[1].pos += 8 + a;\n          figure[2].pos += -1 + a;\n          figure[3].pos += -10 + a;\n          // @ts-ignore\n          figure[4].rotated = '270';\n        } else {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos - 1,\n              figure[1].pos + 1,\n              figure[2].pos + 10,\n              figure[3].pos + 10\n            )\n          )\n            return;\n          figure[0].pos += -1;\n          figure[1].pos += 1;\n          figure[2].pos += 10;\n          figure[3].pos += 10;\n          // @ts-ignore\n          figure[4].rotated = '0';\n        }\n        break;\n      case 'Z':\n        if (rotated === '0') {\n          let a = 0;\n          if (figure[0].pos % 10 === 0) a = 1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + a,\n              figure[1].pos - 9 + a,\n              figure[2].pos - 2 + a,\n              figure[3].pos - 11 + a\n            )\n          )\n            return;\n          figure[0].pos += +a;\n          figure[1].pos += -9 + a;\n          figure[2].pos += -2 + a;\n          figure[3].pos += -11 + a;\n          // @ts-ignore\n          figure[4].rotated = '90';\n        } else if (rotated === '90') {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos,\n              figure[1].pos + 9,\n              figure[2].pos + 2,\n              figure[3].pos + 11\n            )\n          )\n            return;\n          figure[0].pos += 0;\n          figure[1].pos += 9;\n          figure[2].pos += 2;\n          figure[3].pos += 11;\n          // @ts-ignore\n          figure[4].rotated = '180';\n        } else if (rotated === '180') {\n          let a = 0;\n          if (figure[0].pos % 10 === 0) a = 1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + a,\n              figure[1].pos - 9 + a,\n              figure[2].pos - 2 + a,\n              figure[3].pos - 11 + a\n            )\n          )\n            return;\n          figure[0].pos += +a;\n          figure[1].pos += -9 + a;\n          figure[2].pos += -2 + a;\n          figure[3].pos += -11 + a;\n          // @ts-ignore\n          figure[4].rotated = '270';\n        } else {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos,\n              figure[1].pos + 9,\n              figure[2].pos + 2,\n              figure[3].pos + 11\n            )\n          )\n            return;\n          figure[0].pos += 0;\n          figure[1].pos += 9;\n          figure[2].pos += 2;\n          figure[3].pos += 11;\n          // @ts-ignore\n          figure[4].rotated = '0';\n        }\n        break;\n      case 'S':\n        if (rotated === '0') {\n          let a = 0;\n          if (figure[0].pos % 10 === 9) a = -1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos - 1 + a,\n              figure[1].pos - 9 + a,\n              figure[2].pos + a,\n              figure[3].pos - 8 + a\n            )\n          )\n            return;\n          figure[0].pos += -1 + a;\n          figure[1].pos += -9 + a;\n          figure[2].pos += a;\n          figure[3].pos += -8 + a;\n          // @ts-ignore\n          figure[4].rotated = '90';\n        } else if (rotated === '90') {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + 1,\n              figure[1].pos + 9,\n              figure[2].pos,\n              figure[3].pos + 8\n            )\n          )\n            return;\n          figure[0].pos += 1;\n          figure[1].pos += 9;\n          figure[2].pos += 0;\n          figure[3].pos += 8;\n          // @ts-ignore\n          figure[4].rotated = '180';\n        } else if (rotated === '180') {\n          let a = 0;\n          if (figure[0].pos % 10 === 9) a = -1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos - 1 + a,\n              figure[1].pos - 9 + a,\n              figure[2].pos + a,\n              figure[3].pos - 8 + a\n            )\n          )\n            return;\n          figure[0].pos += -1 + a;\n          figure[1].pos += -9 + a;\n          figure[2].pos += a;\n          figure[3].pos += -8 + a;\n          // @ts-ignore\n          figure[4].rotated = '270';\n        } else {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + 1,\n              figure[1].pos + 9,\n              figure[2].pos,\n              figure[3].pos + 8\n            )\n          )\n            return;\n          figure[0].pos += 1;\n          figure[1].pos += 9;\n          figure[2].pos += 0;\n          figure[3].pos += 8;\n          // @ts-ignore\n          figure[4].rotated = '0';\n        }\n        break;\n      case 'T':\n        if (rotated === '0') {\n          let a = 0;\n          if (figure[0].pos % 10 === 0) a = 1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos - 1 + a,\n              figure[1].pos - 10 + a,\n              figure[2].pos - 10 + a,\n              figure[3].pos - 10 + a\n            )\n          )\n            return;\n          figure[0].pos += -1 + a;\n          figure[1].pos += -10 + a;\n          figure[2].pos += -10 + a;\n          figure[3].pos += -10 + a;\n          // @ts-ignore\n          figure[4].rotated = '90';\n        } else if (rotated === '90') {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + 1,\n              figure[1].pos + 9,\n              figure[2].pos + 9,\n              figure[3].pos + 10\n            )\n          )\n            return;\n          figure[0].pos += 1;\n          figure[1].pos += 9;\n          figure[2].pos += 9;\n          figure[3].pos += 10;\n          // @ts-ignore\n          figure[4].rotated = '180';\n        } else if (rotated === '180') {\n          let a = 0;\n          if (figure[0].pos % 10 === 9) a = -1;\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos + a,\n              figure[1].pos + a,\n              figure[2].pos + a,\n              figure[3].pos - 9 + a\n            )\n          )\n            return;\n          figure[0].pos += a;\n          figure[1].pos += a;\n          figure[2].pos += a;\n          figure[3].pos += -9 + a;\n          // @ts-ignore\n          figure[4].rotated = '270';\n        } else {\n          if (\n            !checkIfRotationPossible(\n              figure[0].pos,\n              figure[1].pos + 1,\n              figure[2].pos + 1,\n              figure[3].pos + 9\n            )\n          )\n            return;\n          figure[0].pos += 0;\n          figure[1].pos += 1;\n          figure[2].pos += 1;\n          figure[3].pos += 9;\n          // @ts-ignore\n          figure[4].rotated = '0';\n        }\n        break;\n      default:\n    }\n    setGrid(updateGrid(figure));\n  };\n\n  const deleteFullrows = () => {\n    nonMovingCells.sort((prev, next) => (prev.pos > next.pos ? 1 : -1));\n    const rowsToDelete: number[] = [];\n    nonMovingCells.forEach((cell, index) => {\n      if (cell.pos % 10 === 0) {\n        let helper = 1;\n        while (cell.pos === nonMovingCells[index + helper].pos - helper) {\n          helper += 1;\n          if (helper === 10) {\n            rowsToDelete.push(cell.pos / 10);\n            break;\n          }\n        }\n      }\n    });\n    const copyOfNonMovingCells = [...nonMovingCells];\n    rowsToDelete.forEach((row) => {\n      if (row < 24) {\n        copyOfNonMovingCells.forEach((cell) => {\n          if (Math.floor(cell.pos / 10) === row) {\n            nonMovingCells.splice(nonMovingCells.indexOf(cell), 1);\n          }\n        });\n        nonMovingCells.forEach((cell) => {\n          if (Math.floor(cell.pos / 10) < row) cell.pos += ROW;\n        });\n        deletedRowsCount += 1;\n        if (deletedRowsCount%5 === 0) delay *= 0.8;\n      }\n    });\n  };\n\n  const startGame = () => {\n    setGrid(initialGrid);\n    setHelper2(!helper2);\n    nonMovingCells.length = 0;\n    nonMovingCells.push(...NON_MOVING_CELLS_DEFAULT);\n    deletedRowsCount = 0;\n    newFigure();\n    setGameStage('game');\n  };\n\n  const endGame = () => {\n    setGrid(initialGrid);\n    nonMovingCells.length = 0;\n    nonMovingCells.push(...NON_MOVING_CELLS_DEFAULT);\n    clearTimeout(activeTimeOut);\n    setGameStage('end');\n  };\n\n  return (\n    <div className=\"field\">\n      <h1> TETRIS. Score: {deletedRowsCount.toFixed(0)}</h1>\n      <h2>{gameStage === 'game' && 'PLAY'}</h2>\n      <h2>{gameStage === 'end' && 'GAME OVER! Press Start to play'}</h2>\n      <h2>{gameStage === 'before' && 'Press Start to play'}</h2>\n      <h4>Use Arrows on keyboard</h4>\n      <button type=\"button\" onClick={startGame}>\n        START\n      </button>\n      <button type=\"button\" onClick={endGame}>\n        END\n      </button>\n      <div className=\"row\">\n        <div className=\"col-xs-12 griden\">\n          {grid.map((cell, index) => {\n            return (\n              index < 240 &&\n              index > 39 && <div key={uuid()} className=\"cell\" style={{backgroundColor: cell}} />\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}