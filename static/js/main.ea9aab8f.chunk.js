(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{15:function(o,s,p){},16:function(o,s,p){},19:function(o,s,p){"use strict";p.r(s);var e=p(0),t=p(1),r=p.n(t),n=p(8),i=p.n(n),l=(p(15),p(7)),f=p(4),a=p(5),c=(p(16),p(21)),u=p(9),d=p.n(u),b=[],h=0;!function(){for(var o=0;o<240;o++)b.push("white")}();var j,v,O=[],m=[{pos:240,fill:"blue"},{pos:241,fill:"blue"},{pos:242,fill:"blue"},{pos:243,fill:"blue"},{pos:244,fill:"blue"},{pos:245,fill:"blue"},{pos:246,fill:"blue"},{pos:247,fill:"blue"},{pos:248,fill:"blue"},{pos:249,fill:"blue"}],E=function(o){var s=[].concat(b);return[].concat(O,Object(a.a)(o.slice(0,4))).forEach((function(o){s[o.pos]=o.fill})),s},w=[[{pos:4,fill:"red"},{pos:5,fill:"red"},{pos:14,fill:"red"},{pos:15,fill:"red"},{rotated:"0",name:"O",pos:500,fill:"white"}],[{pos:4,fill:"red"},{pos:14,fill:"red"},{pos:24,fill:"red"},{pos:34,fill:"red"},{rotated:"0",name:"I",pos:500,fill:"white"}],[{pos:4,fill:"red"},{pos:14,fill:"red"},{pos:23,fill:"red"},{pos:24,fill:"red"},{rotated:"0",name:"J",pos:500,fill:"white"}],[{pos:5,fill:"red"},{pos:14,fill:"red"},{pos:15,fill:"red"},{pos:24,fill:"red"},{rotated:"0",name:"S",pos:500,fill:"white"}],[{pos:4,fill:"red"},{pos:14,fill:"red"},{pos:15,fill:"red"},{pos:25,fill:"red"},{rotated:"0",name:"Z",pos:500,fill:"white"}],[{pos:4,fill:"red"},{pos:14,fill:"red"},{pos:15,fill:"red"},{pos:24,fill:"red"},{rotated:"0",name:"T",pos:500,fill:"white"}],[{pos:4,fill:"red"},{pos:14,fill:"red"},{pos:24,fill:"red"},{pos:25,fill:"red"},{rotated:"0",name:"L",pos:500,fill:"white"}]],g=[],k="",x=0,y=function(){var o=Object(t.useState)(b),s=Object(f.a)(o,2),p=s[0],r=s[1],n=Object(t.useState)("before"),i=Object(f.a)(n,2),u=i[0],y=i[1],S=Object(t.useState)(!1),T=Object(f.a)(S,2),A=T[0],L=T[1];j=u,Object(t.useEffect)((function(){return document.body.addEventListener("keydown",(function(o){k=o.key,"game"===j&&("ArrowLeft"===k&&I(g),"ArrowDown"===k&&F(g),"ArrowUp"===k&&R(g),"ArrowRight"===k&&P(g))})),function(){document.body.removeEventListener("keydown",(function(o){k=o.key}))}}),[]),Object(t.useEffect)((function(){x<1?x=1:v=setTimeout((function(){F(g),L(!A)}),750)}),[A]);var C=function(){g=[],Object(a.a)(w[d.a.random(6)]).forEach((function(o){g.push(Object(l.a)({},o))})),r(E(g))},F=function(o){J(o)?(Object(a.a)(o.slice(0,4)).forEach((function(o){o.fill="blue",O.push(Object(l.a)({},o))})),o.splice(0,6),D(),C(),function(o){var s=!1;return O.forEach((function(o){o.pos<40&&(s=!0)})),s}()&&(clearTimeout(v),y("end"))):o.forEach((function(o){o.pos+=10}));r(E(o))},I=function(o){!o.some((function(o){return o.pos<200&&o.pos%10===0}))&&N(o)&&(o.forEach((function(o){o.pos-=1})),r(E(o)))},N=function(o){var s=!0;return o.forEach((function(o){"blue"===p[o.pos-1]&&(s=!1)})),s},P=function(o){!o.some((function(o){return o.pos<200&&o.pos%10===9}))&&function(o){var s=!0;return o.forEach((function(o){"blue"===p[o.pos+1]&&(s=!1)})),s}(o)&&(o.forEach((function(o){o.pos+=1})),r(E(o)))},J=function(o){var s=!1;return o.forEach((function(o){s||(s=O.some((function(s){return s.pos===o.pos+10})))})),s},M=function(o,s,p,e){var t=!0;return O.some((function(r){return(r.pos===o||r.pos===s||r.pos===p||r.pos===e)&&(t=!1,!0)})),t},R=function(o){if(0!==o.length){var s=o[4].name,p=o[4].rotated;switch(s){case"I":if("0"===p){var e=0;if(o[0].pos%10===9&&(e=-2),o[0].pos%10===8&&(e=-1),o[0].pos%10===0&&(e=1),!M(o[0].pos+19+e,o[1].pos+10+e,o[2].pos+1+e,o[3].pos-8+e))return;o[0].pos+=19+e,o[1].pos+=10+e,o[2].pos+=1+e,o[3].pos+=-8+e,o[4].rotated="90"}else if("90"===p){if(!M(o[0].pos-19,o[1].pos-10,o[2].pos-1,o[3].pos+8))return;o[0].pos-=19,o[1].pos-=10,o[2].pos-=1,o[3].pos+=8,o[4].rotated="180"}else if("180"===p){var t=0;if(o[0].pos%10===9&&(t=-2),o[0].pos%10===8&&(t=-1),o[0].pos%10===0&&(t=1),!M(o[0].pos+19+t,o[1].pos+10+t,o[2].pos+1+t,o[3].pos-8+t))return;o[0].pos+=19+t,o[1].pos+=10+t,o[2].pos+=1+t,o[3].pos+=-8+t,o[4].rotated="270"}else{if(!M(o[0].pos-19,o[1].pos-10,o[2].pos-1,o[3].pos+8))return;o[0].pos-=19,o[1].pos-=10,o[2].pos-=1,o[3].pos+=8,o[4].rotated="0"}break;case"J":if("0"===p){var n=0;if(o[0].pos%10===1&&(n=1),!M(o[0].pos-2+n,o[1].pos-2+n,o[2].pos-10+n,o[3].pos-10+n))return;o[0].pos+=-2+n,o[1].pos+=-2+n,o[2].pos+=-10+n,o[3].pos+=-10+n,o[4].rotated="90"}else if("90"===p){if(!M(o[0].pos+1,o[1].pos-8,o[2].pos,o[3].pos+9))return;o[0].pos+=1,o[1].pos+=-8,o[2].pos+=0,o[3].pos+=9,o[4].rotated="180"}else if("180"===p){var i=0;if(o[0].pos%10===0&&(i=1),!M(o[0].pos-1+i,o[1].pos-1+i,o[2].pos-9+i,o[3].pos-9+i))return;o[0].pos+=-1+i,o[1].pos+=-1+i,o[2].pos+=-9+i,o[3].pos+=-9+i,o[4].rotated="270"}else{if(!M(o[0].pos+2,o[1].pos+11,o[2].pos+19,o[3].pos+10))return;o[0].pos+=2,o[1].pos+=11,o[2].pos+=19,o[3].pos+=10,o[4].rotated="0"}break;case"L":if("0"===p){var l=0;if(o[0].pos%10===0&&(l=1),!M(o[0].pos-1+l,o[1].pos-10+l,o[2].pos-19+l,o[3].pos-12+l))return;o[0].pos+=-1+l,o[1].pos+=-10+l,o[2].pos+=-19+l,o[3].pos+=-12+l,o[4].rotated="90"}else if("90"===p){if(!M(o[0].pos+1,o[1].pos+1,o[2].pos+10,o[3].pos+12))return;o[0].pos+=1,o[1].pos+=1,o[2].pos+=10,o[3].pos+=12,o[4].rotated="180"}else if("180"===p){var f=0;if(o[0].pos%10===0&&(f=1),!M(o[0].pos+1+f,o[1].pos+8+f,o[2].pos-1+f,o[3].pos-10+f))return;o[0].pos+=1+f,o[1].pos+=8+f,o[2].pos+=-1+f,o[3].pos+=-10+f,o[4].rotated="270"}else{if(!M(o[0].pos-1,o[1].pos+1,o[2].pos+10,o[3].pos+10))return;o[0].pos+=-1,o[1].pos+=1,o[2].pos+=10,o[3].pos+=10,o[4].rotated="0"}break;case"Z":if("0"===p){var a=0;if(o[0].pos%10===0&&(a=1),!M(o[0].pos+a,o[1].pos-9+a,o[2].pos-2+a,o[3].pos-11+a))return;o[0].pos+=+a,o[1].pos+=-9+a,o[2].pos+=-2+a,o[3].pos+=-11+a,o[4].rotated="90"}else if("90"===p){if(!M(o[0].pos,o[1].pos+9,o[2].pos+2,o[3].pos+11))return;o[0].pos+=0,o[1].pos+=9,o[2].pos+=2,o[3].pos+=11,o[4].rotated="180"}else if("180"===p){var c=0;if(o[0].pos%10===0&&(c=1),!M(o[0].pos+c,o[1].pos-9+c,o[2].pos-2+c,o[3].pos-11+c))return;o[0].pos+=+c,o[1].pos+=-9+c,o[2].pos+=-2+c,o[3].pos+=-11+c,o[4].rotated="270"}else{if(!M(o[0].pos,o[1].pos+9,o[2].pos+2,o[3].pos+11))return;o[0].pos+=0,o[1].pos+=9,o[2].pos+=2,o[3].pos+=11,o[4].rotated="0"}break;case"S":if("0"===p){var u=0;if(o[0].pos%10===9&&(u=-1),!M(o[0].pos-1+u,o[1].pos-9+u,o[2].pos+u,o[3].pos-8+u))return;o[0].pos+=-1+u,o[1].pos+=-9+u,o[2].pos+=u,o[3].pos+=-8+u,o[4].rotated="90"}else if("90"===p){if(!M(o[0].pos+1,o[1].pos+9,o[2].pos,o[3].pos+8))return;o[0].pos+=1,o[1].pos+=9,o[2].pos+=0,o[3].pos+=8,o[4].rotated="180"}else if("180"===p){var d=0;if(o[0].pos%10===9&&(d=-1),!M(o[0].pos-1+d,o[1].pos-9+d,o[2].pos+d,o[3].pos-8+d))return;o[0].pos+=-1+d,o[1].pos+=-9+d,o[2].pos+=d,o[3].pos+=-8+d,o[4].rotated="270"}else{if(!M(o[0].pos+1,o[1].pos+9,o[2].pos,o[3].pos+8))return;o[0].pos+=1,o[1].pos+=9,o[2].pos+=0,o[3].pos+=8,o[4].rotated="0"}break;case"T":if("0"===p){var b=0;if(o[0].pos%10===0&&(b=1),!M(o[0].pos-1+b,o[1].pos-10+b,o[2].pos-10+b,o[3].pos-10+b))return;o[0].pos+=-1+b,o[1].pos+=-10+b,o[2].pos+=-10+b,o[3].pos+=-10+b,o[4].rotated="90"}else if("90"===p){if(!M(o[0].pos+1,o[1].pos+9,o[2].pos+9,o[3].pos+10))return;o[0].pos+=1,o[1].pos+=9,o[2].pos+=9,o[3].pos+=10,o[4].rotated="180"}else if("180"===p){var h=0;if(o[0].pos%10===9&&(h=-1),!M(o[0].pos+h,o[1].pos+h,o[2].pos+h,o[3].pos-9+h))return;o[0].pos+=h,o[1].pos+=h,o[2].pos+=h,o[3].pos+=-9+h,o[4].rotated="270"}else{if(!M(o[0].pos,o[1].pos+1,o[2].pos+1,o[3].pos+9))return;o[0].pos+=0,o[1].pos+=1,o[2].pos+=1,o[3].pos+=9,o[4].rotated="0"}}r(E(o))}},D=function(){O.sort((function(o,s){return o.pos>s.pos?1:-1}));var o=[];O.forEach((function(s,p){if(s.pos%10===0)for(var e=1;s.pos===O[p+e].pos-e;)if(10===(e+=1)){o.push(s.pos/10);break}}));var s=[].concat(O);o.forEach((function(o){o<24&&(s.forEach((function(s){Math.floor(s.pos/10)===o&&(O.splice(O.indexOf(s),1),h+=.1)})),O.forEach((function(s){Math.floor(s.pos/10)<o&&(s.pos+=10)})))}))};return Object(e.jsxs)("div",{className:"field",children:[Object(e.jsxs)("h1",{children:[" TETRIS. Score: ",h.toFixed(0)]}),Object(e.jsx)("h2",{children:"game"===u&&"PLAY"}),Object(e.jsx)("h2",{children:"end"===u&&"GAME OVER! Press Start to play"}),Object(e.jsx)("h2",{children:"before"===u&&"Press Start to play"}),Object(e.jsx)("h4",{children:"Use Arrows on keyboard"}),Object(e.jsx)("button",{type:"button",onClick:function(){r(b),L(!A),O.length=0,O.push.apply(O,m),h=0,C(),y("game")},children:"START"}),Object(e.jsx)("button",{type:"button",onClick:function(){r(b),O.length=0,O.push.apply(O,m),clearTimeout(v),y("end")},children:"END"}),Object(e.jsx)("div",{className:"row",children:Object(e.jsx)("div",{className:"col-xs-12 griden",children:p.map((function(o,s){return s<240&&s>39&&Object(e.jsx)("div",{className:"cell",style:{backgroundColor:o}},Object(c.a)())}))})})]})},S=function(o){o&&o instanceof Function&&p.e(3).then(p.bind(null,22)).then((function(s){var p=s.getCLS,e=s.getFID,t=s.getFCP,r=s.getLCP,n=s.getTTFB;p(o),e(o),t(o),r(o),n(o)}))};i.a.render(Object(e.jsx)(r.a.StrictMode,{children:Object(e.jsx)(y,{})}),document.getElementById("root")),S()}},[[19,1,2]]]);
//# sourceMappingURL=main.ea9aab8f.chunk.js.map