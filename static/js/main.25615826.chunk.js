(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{15:function(o,s,e){},16:function(o,s,e){},19:function(o,s,e){"use strict";e.r(s);var p=e(0),t=e(1),r=e.n(t),n=e(8),i=e.n(n),l=(e(15),e(7)),f=e(4),a=e(5),c=(e(16),e(21)),u=e(9),d=e.n(u),b=[],h=0;!function(){for(var o=0;o<240;o++)b.push("white")}();var j,v,O,m=[],E=[{pos:240,fill:"blue"},{pos:241,fill:"blue"},{pos:242,fill:"blue"},{pos:243,fill:"blue"},{pos:244,fill:"blue"},{pos:245,fill:"blue"},{pos:246,fill:"blue"},{pos:247,fill:"blue"},{pos:248,fill:"blue"},{pos:249,fill:"blue"}],w=function(o){var s=[].concat(b);return[].concat(m,Object(a.a)(o.slice(0,4))).forEach((function(o){s[o.pos]=o.fill})),s},x=[[{pos:4,fill:"red"},{pos:5,fill:"red"},{pos:14,fill:"red"},{pos:15,fill:"red"},{rotated:"0",name:"O",pos:500,fill:"white"}],[{pos:4,fill:"red"},{pos:14,fill:"red"},{pos:24,fill:"red"},{pos:34,fill:"red"},{rotated:"0",name:"I",pos:500,fill:"white"}],[{pos:4,fill:"red"},{pos:14,fill:"red"},{pos:23,fill:"red"},{pos:24,fill:"red"},{rotated:"0",name:"J",pos:500,fill:"white"}],[{pos:5,fill:"red"},{pos:14,fill:"red"},{pos:15,fill:"red"},{pos:24,fill:"red"},{rotated:"0",name:"S",pos:500,fill:"white"}],[{pos:4,fill:"red"},{pos:14,fill:"red"},{pos:15,fill:"red"},{pos:25,fill:"red"},{rotated:"0",name:"Z",pos:500,fill:"white"}],[{pos:4,fill:"red"},{pos:14,fill:"red"},{pos:15,fill:"red"},{pos:24,fill:"red"},{rotated:"0",name:"T",pos:500,fill:"white"}],[{pos:4,fill:"red"},{pos:14,fill:"red"},{pos:24,fill:"red"},{pos:25,fill:"red"},{rotated:"0",name:"L",pos:500,fill:"white"}]],g=[],k="",y=0,S=1e3,T=function(){var o=Object(t.useState)(b),s=Object(f.a)(o,2),e=s[0],r=s[1],n=Object(t.useState)("before"),i=Object(f.a)(n,2),u=i[0],T=i[1],A=Object(t.useState)(!1),L=Object(f.a)(A,2),C=L[0],F=L[1];j=u,v=e,Object(t.useEffect)((function(){return document.body.addEventListener("keydown",(function(o){k=o.key,"game"===j&&("ArrowLeft"===k&&P(g),"ArrowDown"===k&&N(g),"ArrowUp"===k&&B(g),"ArrowRight"===k&&M(g))})),function(){document.body.removeEventListener("keydown",(function(o){k=o.key}))}}),[]),Object(t.useEffect)((function(){y<1?y=1:O=setTimeout((function(){N(g),F(!C)}),S)}),[C]);var I=function(){g=[],Object(a.a)(x[d.a.random(6)]).forEach((function(o){g.push(Object(l.a)({},o))})),r(w(g))},N=function(o){R(o)?(Object(a.a)(o.slice(0,4)).forEach((function(o){o.fill="blue",m.push(Object(l.a)({},o))})),o.splice(0,6),U(),I(),function(o){var s=!1;return m.forEach((function(o){o.pos<40&&(s=!0)})),s}()&&(clearTimeout(O),T("end"))):o.forEach((function(o){o.pos+=10}));r(w(o))},P=function(o){!o.some((function(o){return o.pos<240&&o.pos%10===0}))&&J(o)&&(o.forEach((function(o){o.pos-=1})),r(w(o)))},J=function(o){var s=!0;return o.forEach((function(o){"blue"===v[o.pos-1]&&(s=!1)})),s},M=function(o){!o.some((function(o){return o.pos<240&&o.pos%10===9}))&&function(o){var s=!0;return o.forEach((function(o){"blue"===v[o.pos+1]&&(s=!1)})),s}(o)&&(o.forEach((function(o){o.pos+=1})),r(w(o)))},R=function(o){var s=!1;return o.forEach((function(o){s||(s=m.some((function(s){return s.pos===o.pos+10})))})),s},D=function(o,s,e,p){var t=!0;return m.some((function(r){return(r.pos===o||r.pos===s||r.pos===e||r.pos===p)&&(t=!1,!0)})),t},B=function(o){if(0!==o.length){var s=o[4].name,e=o[4].rotated;switch(s){case"I":if("0"===e){var p=0;if(o[0].pos%10===9&&(p=-2),o[0].pos%10===8&&(p=-1),o[0].pos%10===0&&(p=1),!D(o[0].pos+19+p,o[1].pos+10+p,o[2].pos+1+p,o[3].pos-8+p))return;o[0].pos+=19+p,o[1].pos+=10+p,o[2].pos+=1+p,o[3].pos+=-8+p,o[4].rotated="90"}else if("90"===e){if(!D(o[0].pos-19,o[1].pos-10,o[2].pos-1,o[3].pos+8))return;o[0].pos-=19,o[1].pos-=10,o[2].pos-=1,o[3].pos+=8,o[4].rotated="180"}else if("180"===e){var t=0;if(o[0].pos%10===9&&(t=-2),o[0].pos%10===8&&(t=-1),o[0].pos%10===0&&(t=1),!D(o[0].pos+19+t,o[1].pos+10+t,o[2].pos+1+t,o[3].pos-8+t))return;o[0].pos+=19+t,o[1].pos+=10+t,o[2].pos+=1+t,o[3].pos+=-8+t,o[4].rotated="270"}else{if(!D(o[0].pos-19,o[1].pos-10,o[2].pos-1,o[3].pos+8))return;o[0].pos-=19,o[1].pos-=10,o[2].pos-=1,o[3].pos+=8,o[4].rotated="0"}break;case"J":if("0"===e){var n=0;if(o[0].pos%10===1&&(n=1),!D(o[0].pos-2+n,o[1].pos-2+n,o[2].pos-10+n,o[3].pos-10+n))return;o[0].pos+=-2+n,o[1].pos+=-2+n,o[2].pos+=-10+n,o[3].pos+=-10+n,o[4].rotated="90"}else if("90"===e){if(!D(o[0].pos+1,o[1].pos-8,o[2].pos,o[3].pos+9))return;o[0].pos+=1,o[1].pos+=-8,o[2].pos+=0,o[3].pos+=9,o[4].rotated="180"}else if("180"===e){var i=0;if(o[0].pos%10===0&&(i=1),!D(o[0].pos-1+i,o[1].pos-1+i,o[2].pos-9+i,o[3].pos-9+i))return;o[0].pos+=-1+i,o[1].pos+=-1+i,o[2].pos+=-9+i,o[3].pos+=-9+i,o[4].rotated="270"}else{if(!D(o[0].pos+2,o[1].pos+11,o[2].pos+19,o[3].pos+10))return;o[0].pos+=2,o[1].pos+=11,o[2].pos+=19,o[3].pos+=10,o[4].rotated="0"}break;case"L":if("0"===e){var l=0;if(o[0].pos%10===0&&(l=1),!D(o[0].pos-1+l,o[1].pos-10+l,o[2].pos-19+l,o[3].pos-12+l))return;o[0].pos+=-1+l,o[1].pos+=-10+l,o[2].pos+=-19+l,o[3].pos+=-12+l,o[4].rotated="90"}else if("90"===e){if(!D(o[0].pos+1,o[1].pos+1,o[2].pos+10,o[3].pos+12))return;o[0].pos+=1,o[1].pos+=1,o[2].pos+=10,o[3].pos+=12,o[4].rotated="180"}else if("180"===e){var f=0;if(o[0].pos%10===0&&(f=1),!D(o[0].pos+1+f,o[1].pos+8+f,o[2].pos-1+f,o[3].pos-10+f))return;o[0].pos+=1+f,o[1].pos+=8+f,o[2].pos+=-1+f,o[3].pos+=-10+f,o[4].rotated="270"}else{if(!D(o[0].pos-1,o[1].pos+1,o[2].pos+10,o[3].pos+10))return;o[0].pos+=-1,o[1].pos+=1,o[2].pos+=10,o[3].pos+=10,o[4].rotated="0"}break;case"Z":if("0"===e){var a=0;if(o[0].pos%10===0&&(a=1),!D(o[0].pos+a,o[1].pos-9+a,o[2].pos-2+a,o[3].pos-11+a))return;o[0].pos+=+a,o[1].pos+=-9+a,o[2].pos+=-2+a,o[3].pos+=-11+a,o[4].rotated="90"}else if("90"===e){if(!D(o[0].pos,o[1].pos+9,o[2].pos+2,o[3].pos+11))return;o[0].pos+=0,o[1].pos+=9,o[2].pos+=2,o[3].pos+=11,o[4].rotated="180"}else if("180"===e){var c=0;if(o[0].pos%10===0&&(c=1),!D(o[0].pos+c,o[1].pos-9+c,o[2].pos-2+c,o[3].pos-11+c))return;o[0].pos+=+c,o[1].pos+=-9+c,o[2].pos+=-2+c,o[3].pos+=-11+c,o[4].rotated="270"}else{if(!D(o[0].pos,o[1].pos+9,o[2].pos+2,o[3].pos+11))return;o[0].pos+=0,o[1].pos+=9,o[2].pos+=2,o[3].pos+=11,o[4].rotated="0"}break;case"S":if("0"===e){var u=0;if(o[0].pos%10===9&&(u=-1),!D(o[0].pos-1+u,o[1].pos-9+u,o[2].pos+u,o[3].pos-8+u))return;o[0].pos+=-1+u,o[1].pos+=-9+u,o[2].pos+=u,o[3].pos+=-8+u,o[4].rotated="90"}else if("90"===e){if(!D(o[0].pos+1,o[1].pos+9,o[2].pos,o[3].pos+8))return;o[0].pos+=1,o[1].pos+=9,o[2].pos+=0,o[3].pos+=8,o[4].rotated="180"}else if("180"===e){var d=0;if(o[0].pos%10===9&&(d=-1),!D(o[0].pos-1+d,o[1].pos-9+d,o[2].pos+d,o[3].pos-8+d))return;o[0].pos+=-1+d,o[1].pos+=-9+d,o[2].pos+=d,o[3].pos+=-8+d,o[4].rotated="270"}else{if(!D(o[0].pos+1,o[1].pos+9,o[2].pos,o[3].pos+8))return;o[0].pos+=1,o[1].pos+=9,o[2].pos+=0,o[3].pos+=8,o[4].rotated="0"}break;case"T":if("0"===e){var b=0;if(o[0].pos%10===0&&(b=1),!D(o[0].pos-1+b,o[1].pos-10+b,o[2].pos-10+b,o[3].pos-10+b))return;o[0].pos+=-1+b,o[1].pos+=-10+b,o[2].pos+=-10+b,o[3].pos+=-10+b,o[4].rotated="90"}else if("90"===e){if(!D(o[0].pos+1,o[1].pos+9,o[2].pos+9,o[3].pos+10))return;o[0].pos+=1,o[1].pos+=9,o[2].pos+=9,o[3].pos+=10,o[4].rotated="180"}else if("180"===e){var h=0;if(o[0].pos%10===9&&(h=-1),!D(o[0].pos+h,o[1].pos+h,o[2].pos+h,o[3].pos-9+h))return;o[0].pos+=h,o[1].pos+=h,o[2].pos+=h,o[3].pos+=-9+h,o[4].rotated="270"}else{if(!D(o[0].pos,o[1].pos+1,o[2].pos+1,o[3].pos+9))return;o[0].pos+=0,o[1].pos+=1,o[2].pos+=1,o[3].pos+=9,o[4].rotated="0"}}r(w(o))}},U=function(){m.sort((function(o,s){return o.pos>s.pos?1:-1}));var o=[];m.forEach((function(s,e){if(s.pos%10===0)for(var p=1;s.pos===m[e+p].pos-p;)if(10===(p+=1)){o.push(s.pos/10);break}}));var s=[].concat(m);o.forEach((function(o){o<24&&(s.forEach((function(s){Math.floor(s.pos/10)===o&&m.splice(m.indexOf(s),1)})),m.forEach((function(s){Math.floor(s.pos/10)<o&&(s.pos+=10)})),(h+=1)%5===0&&(S*=.8))}))};return Object(p.jsx)("div",{className:"field",children:Object(p.jsxs)("div",{className:"row center-xs wrapper",children:[Object(p.jsxs)("h1",{children:[" TETRIS. Score: ",h.toFixed(0)]}),Object(p.jsx)("h2",{children:"game"===u&&"PLAY"}),Object(p.jsx)("h2",{children:"end"===u&&"GAME OVER! Press Start to play"}),Object(p.jsx)("h2",{children:"before"===u&&"Press Start to play"}),Object(p.jsx)("h4",{children:"Use Arrows on keyboard"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{type:"button",onClick:function(){r(b),F(!C),m.length=0,m.push.apply(m,E),h=0,I(),T("game")},children:"START"}),Object(p.jsx)("button",{type:"button",onClick:function(){r(b),m.length=0,m.push.apply(m,E),clearTimeout(O),T("end")},children:"END"})]}),Object(p.jsx)("div",{className:"col-xs-12 griden",children:e.map((function(o,s){return s<240&&s>39&&Object(p.jsx)("div",{className:"cell",style:{backgroundColor:o}},Object(c.a)())}))})]})})},A=function(o){o&&o instanceof Function&&e.e(3).then(e.bind(null,22)).then((function(s){var e=s.getCLS,p=s.getFID,t=s.getFCP,r=s.getLCP,n=s.getTTFB;e(o),p(o),t(o),r(o),n(o)}))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),A()}},[[19,1,2]]]);
//# sourceMappingURL=main.25615826.chunk.js.map